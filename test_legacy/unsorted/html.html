<!DOCTYPE html>
<html>
<body>

<div id="demo">
s   s
</div>

<div id="demo3">
<div variable="i:1" iterate="10;i++" class="box cards gut1- br05- light- fdc- tac">
    <figure>
        <img src="assets/img/icon_black_regular.svg">
            <figcaption>Card <var>i</var></figcaption>
            <small><var>i</var></small>
            <p><var>i</var></p>
        </figure>
    </div>
</div>

<div id="demo2">

<div id="div">
<div>
<img>
<img>
<div>
<div class="a">1<a href=""></a><p>ss</p><input type="hidden"></div>
<div class="b">2</div>
<p>ss</p>
<div class="c">3</div>
</div>
<img>
</div>
</div>

</div>


<hr>

<div id="test" style="background:black; color: white; padding: 1rem;white-space:pre-wrap">
</div>


<script>
function format(el) {
    el = el.trim();

    console.log(el);

    var tab = "\t",
    result = "",
    indent = "";

    el.split(/>\s+<[^>\s<\/]{0}/).forEach(function(element) {
        if (element.match(/^\/\w/)) {
            indent = indent.substring(tab.length);
        }

        result += indent + '<' + element + '>\r\n';

        if (element.match( /^<?\w[^>]*[^\/]$/ ) && !element.startsWith("input") && !element.startsWith("img"))
            indent += tab;
    });

    return escape(result.substring(1, result.length-3));
}


	function escape(text){
		return text.replace(/[\u0009\u0000-\u002F\u003A-\u0040\u005B-\u0060\u007B-\u00FF]/g, function(x) {
			return '&#' + ('000' + x.charCodeAt(0)).substr(-4, 4) + ';'
		});
	}

    function encode(r) {
        return r.replace(/\t/g, "space");
  return r.replace(/[\x09\x26\x0A\x3c\x3e\x22\x27]/g, function(r) {
	return "&#" + r.charCodeAt(0) + ";";
  });
}

    var el = document.getElementById("demo3");
    var demo = format(el.innerHTML, "");


    document.getElementById("test").innerHTML = demo;
</script>


</body>
</html>
